@using System.ComponentModel.Design
@using Arad.Portal.GeneralLibrary.Utilities;
@using System.Globalization;
@model Arad.Portal.DataLayer.Models.Shared.MenuLinkModel
@{
    Layout = null;
}
@{
  
    var chevron = "";
    if (CultureInfo.CurrentCulture.TextInfo.IsRightToLeft)
    {
        chevron = "fa fa-chevron-left";
    }
    else
    {
        chevron = "fa fa-chevron-right";
     }
}

@if (Model.Children.Count != 0)
{
    var hrefcollapse = "menu" + Model.MenuId;
<a class="nav-link @(Model.IsActive ? "active":"notactive")" data-toggle="collapse" href="#@hrefcollapse">
    @if (!string.IsNullOrWhiteSpace(Model.Icon))
    {
        <i class="nav-icon  @Model.Icon"></i>
    }
        @Language.GetString(Model.MenuTitle)
        <span class="expand-state pull-left">
            <i class="@chevron pull-left"></i>
        </span>
    </a>
    <ul class="sub unstyle collapse @(Model.IsActive ? "show":"")" id="@hrefcollapse">
        @foreach (var menu in Model.Children)
        {
            @*@(menu.Children.Count > 0 ? "has-sub" : "")*@
            <li class="nav-item">
                @await Component.InvokeAsync("InnerMenu", menu)
            </li>
        }
    </ul>
}
else
{
<a class="nav-link @(Model.IsActive ? "active":"notActive")" href=@($"/{Model.Link}")>
    @if (!string.IsNullOrWhiteSpace(Model.Icon))
    {
        <i class="nav-icon @Model.Icon"></i>
    }
    @Language.GetString(Model.MenuTitle)
</a>
}